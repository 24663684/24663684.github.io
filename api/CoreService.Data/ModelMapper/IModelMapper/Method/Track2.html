<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>IModelMapper.Track&lt;TModel&gt;(IModelEntry&lt;TModel&gt; modelEntry) Method </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="IModelMapper.Track&lt;TModel&gt;(IModelEntry&lt;TModel&gt; modelEntry) Method ">
    <meta name="generator" content="docfx 2.40.2.0">
    
    <link rel="shortcut icon" href="../../../../../images/logo-appeon.png ">
    <link rel="stylesheet" href="../../../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../../../styles/main.css">
    <meta property="docfx:navrel" content="../../../../../toc.html">
    <meta property="docfx:tocrel" content="../../../../toc.html">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="../../../../../index.html">
        	<img id="logo" src="../../../../../images/logo-appeon.png" height="20" width="164.45" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h2 id="imodelmappertracktmodelimodelentrytmodel-modelentry-method"><strong>IModelMapper.Track&lt;TModel&gt;(IModelEntry&lt;TModel&gt; modelEntry) Method</strong></h2>

<p><strong>.NET Standard 2.x |</strong>  <a href="javascript:void(0)" class="dropdown">Current version (0.5.0-alpha) <img src="../../../../../images/dropdown.png"></a></p>
<div class="otherversions" value="versdiv">
<p><a href="javascript:void(0)">0.5.0-alpha</a></p>
<p><a href="javascript:void(0)">0.5.1-alpha(current)</a></p>
</div>
<p>追踪一个数据库表的操作,由数据的状态决定如何选择insert, update or delete 操作，将被用来操纵数据库表的数据缓存于TModel中。当IModelMapper.SaveChanges被调用时，一条SQL INSERT, UPDATE or DELETE statement 将用缓存在TModel中的数据以及被定义在TModel中的映射信息来产生，并执行。</p>
<p>Tracks a database table operation (insert, update, or delete). The data state determines which type of operation (insert, update, or delete) to be performed. The data to be manipulated is cached in TModel. When IModelMapper.SaveChanges is called, a SQL statement (INSERT, UPDATE or DELETE) will be first generated using the data cached in TModel and the mapping information defined in TModel, and then executed.</p>
<p><strong>Namespace:</strong> Appeon.CoreService.Data</p>
<p><strong>Assembly:</strong> Appeon.CoreService.Data.dll</p>
<h3 id="syntax"><strong>Syntax</strong></h3>
<pre><code class="lang-c#">   public TModel Track&lt;TModel&gt;(IModelEntry&lt;TModel&gt; modelEntry);
</code></pre>
<p><strong>Type Parameters</strong></p>
<p><code>TModel</code></p>
<p>The type of a model class that conforms to the Appeon standard.</p>
<p><strong>Parameters</strong></p>
<p><code>modelEntry</code> <a href="../../IModelEntry2/IModelEntry.html">Appeon.CoreService.Data.IModelEntry&lt;TModel&gt;</a></p>
<p>一个包含数据和状态的ModelEntry实例。
A ModelEntry&lt;TModel&gt; instance including data and state.</p>
<p><strong>Returns</strong></p>
<p>TModel</p>
<p>返回一个已被追踪的Model实例，该Model中包含ModelEntry实例中的数据。</p>
<p>Returns a tracked model instance which includes the data in ModelEntry instance.</p>
<h3 id="remarks"><strong>Remarks</strong></h3>
<h3 id="examples"><strong>Examples</strong></h3>
<p>以下代码示例演示如何注册新学生。</p>
<p>它跟踪新学生的插入操作，因为IModelEntry的ModelState属性是NewModified。</p>
<p>The following code example demonstrates how to register a new student.</p>
<p>It tracks the Insert operation for the new student because the ModelState property of
IModelEntry is NewModified.</p>
<pre><code class="lang-C#">using Appeon.CoreService.Data;
using Appeon.Examples.Models.School;
using System;

namespace Appeon.Examples.IModelMapper
{
    public class TrackExample
    {
        private SchoolContext _context;

        public TrackExample(SchoolContext dataContext)
        {
            // Sets the data context.
            _context = dataContext;
        }

        public void Example2(IModelEntry&lt;Person&gt; newStudent)
        {
            var mapper = _context.ModelMapper;

            Console.WriteLine(&quot;The state of the student record is {0}.&quot;,
                newStudent.ModelState.ToString());

            // Tracks the Insert operation for the new student.
            mapper.Track(newStudent);

            // Saves to the database.
            var dbResult = mapper.SaveChanges();

            Console.WriteLine(&quot;{0} student record has been inserted into the &quot; +
                                &quot;database.&quot;,
                                dbResult.InsertedCount);

            /* The code produces the following output:
            
            The state of the student record is NewModified.
            1 student record has been inserted into the database.
            */
        }
    }
}
</code></pre>
<h4 id="related-exampes">Related Exampes</h4>
<p>Model Class: <a href="../../../SourceCode/Examples/Models/School/Person.html">Person</a> <br>Controller Class: <a href="../../../SourceCode/Examples/Controllers/IModelMapper/TrackExampleController.html">TrackExampleController</a> <br></p>
<h3 id="applies-to"><strong>Applies to</strong></h3>
<p>.NET Standard</p>
<p>2.x</p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>Appeon</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../../../styles/main.js"></script>
  </body>
</html>
