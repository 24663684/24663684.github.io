<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>IDataStore.FindIndex(string expression, int start, int end, DwBuffer dwBuffer = DwBuffer.Primary) Method </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="IDataStore.FindIndex(string expression, int start, int end, DwBuffer dwBuffer = DwBuffer.Primary) Method ">
    <meta name="generator" content="docfx 2.37.0.0">
    
    <link rel="shortcut icon" href="../../../../../images/logo-appeon.png ">
    <link rel="stylesheet" href="../../../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../../../styles/main.css">
    <meta property="docfx:navrel" content="../../../../../toc.html">
    <meta property="docfx:tocrel" content="../../../../toc.html">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="../../../../../index.html">
        	<img id="logo" src="../../../../../images/logo-appeon.png" height="20" width="164.45" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h2 id="idatastorefindindexstring-expression-int-start-int-end-dwbuffer-dwbuffer--dwbufferprimary-method"><strong>IDataStore.FindIndex(string expression, int start, int end, DwBuffer dwBuffer = DwBuffer.Primary) Method</strong></h2>

<p><strong>.NET Standard 2.x |</strong>  <a href="javascript:void(0)" class="dropdown">Current Version(0.5.0-alpha) <img src="../../../../../images/dropdown.png"></a></p>
<div class="otherversions" value="versdiv">
<p><a href="javascript:void(0)">0.5.0-alpha</a></p>
<p><a href="javascript:void(0)">0.5.1-alpha(current)</a></p>
</div>
<p>从某个缓冲区的开始和结束位置查找数据，返回符合表达式的第一个结果的索引。如果start和end参数都设置为-1，则表示搜索从开始到结束。缓冲区默认指定为主缓冲区。</p>
<p>Returns the zero-based index of the next row in the specified buffer of the DataStore in which data meets the condition specified by the expression. If both start and end parameters are set to -1, it indicates the search starts from the beginning to the end. The primary buffer is specified by default.</p>
<p><strong>Namespace:</strong> Appeon.Data.PowerBuilder</p>
<p><strong>Assembly:</strong> Appeon.Data.PowerBuilder.dll</p>
<h3 id="syntax"><strong>Syntax</strong></h3>
<pre><code class="lang-c#">int FindIndex(string expression, int start, int end, DwBuffer dwBuffer = DwBuffer.Primary);
</code></pre>
<p><strong>Parameters</strong></p>
<p><code>expression</code> System.String</p>
<p>A string whose value is a <code>boolean</code> expression that you want to use as the search criteria. The expression includes column names.</p>
<p><code>start</code> System.Int32</p>
<p>The zero-based row number from which the search starts.</p>
<p>If it is negative, it starts from 0.</p>
<p>If start is larger than end, it will do a backward search instead of forward search.</p>
<p><code>end</code> System.Int32</p>
<p>The zero-based row number at which the search ends.</p>
<p>If it is negative, it searches to the end.</p>
<p><code>dwBuffer</code> Appeon.Data.PowerBuilder.DwBuffer</p>
<p>The buffer in which to find row.</p>
<p>It is specified to the primary buffer by default.</p>
<p><strong>Returns</strong></p>
<p>System.Int32</p>
<p>Returns the zero-based index of the row found.</p>
<p>It returns -1 if no row is found.</p>
<h3 id="remarks"><strong>Remarks</strong></h3>
<h3 id="examples"><strong>Examples</strong></h3>
<p>FindIndex(string expression, int start, int end,
DwBuffer bufferType = DwBuffer.Primary)
－1表示从最前行开始查找
-1 表示最后一行
bufferType为指定buffer,如果不指定，默认为Primary buffer</p>
<pre><code class="lang-C#">using Appeon.Data.PowerBuilder;
using System;

namespace Appeon.ApiDoc.IDataStoreExamples
{
    public class FindIndexExample
    {
        private SchoolContext _context;

        public FindIndexExample(SchoolContext dataContext)
        {
            // Set Data Context
            _context = dataContext;
        }

        public void Example1()
        {

            // Instantiate the datastore with datawindow:d_department
            var datastore = new DataStore(&quot;d_department&quot;, _context);

            datastore.Retrieve();

            // Department表中第一行记录departmentid=1, name = Engineering
            var findrow = datastore.FindIndex(&quot;departmentid &lt; 3&quot;);

            Console.WriteLine(&quot;Department ID:{0}; Department Name:{1}&quot;,
                               datastore.GetItem&lt;int&gt;(findrow, &quot;departmentid&quot;),
                               datastore.GetItem&lt;string&gt;(findrow, &quot;name&quot;));

            // Department表中第二行记录departmentid=2, name = English
            findrow = datastore.FindIndex(&quot;departmentid &lt; 3&quot;, 1, -1);

            Console.WriteLine(&quot;Department ID:{0}; Department Name:{1}&quot;,
                               datastore.GetItem&lt;int&gt;(findrow, &quot;departmentid&quot;),
                               datastore.GetItem&lt;string&gt;(findrow, &quot;name&quot;));


            /*This code produces the following output:
             
            Department ID:1; Department Name:Engineering
            Department ID:2; Department Name:English
            */

        }
    }
}
</code></pre>
<h3 id="applies-to"><strong>Applies to</strong></h3>
<p>.NET Standard</p>
<p>2.x</p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>Appeon</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../../../styles/main.js"></script>
  </body>
</html>
