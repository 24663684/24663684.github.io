<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>IDataStore.RowsCopy(int startrow, int endrow, DwBuffer copybuffer, IDataStore targetdw, int beforerow, DwBuffer targetbuffer) Method </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="IDataStore.RowsCopy(int startrow, int endrow, DwBuffer copybuffer, IDataStore targetdw, int beforerow, DwBuffer targetbuffer) Method ">
    <meta name="generator" content="docfx 2.40.2.0">
    
    <link rel="shortcut icon" href="../../../../images/logo-appeon.png ">
    <link rel="stylesheet" href="../../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../../styles/main.css">
    <meta property="docfx:navrel" content="../../../../toc.html">
    <meta property="docfx:tocrel" content="../../../toc.html">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="../../../../index.html">
        	<img id="logo" src="../../../../images/logo-appeon.png" height="20" width="164.45" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h2 id="idatastorerowscopyint-startrow-int-endrow-dwbuffer-copybuffer-idatastore-targetdw-int-beforerow-dwbuffer-targetbuffer-method"><strong>IDataStore.RowsCopy(int startrow, int endrow, DwBuffer copybuffer, IDataStore targetdw, int beforerow, DwBuffer targetbuffer) Method</strong></h2>

<p><strong>.NET Standard 2.x |</strong>  <a href="javascript:void(0)" class="dropdown">Current Version(0.5.0-alpha) <img src="../../../../images/dropdown.png"></a></p>
<div class="otherversions" value="versdiv">
<a href="javascript:void(0)">0.5.0-alpha</a>
<p><a href="javascript:void(0)">0.5.1-alpha(current)</a></p>
</div>
<p>从DataStore的一系列行复制到另一个DataStore，或者在单一的DataStore中从一个缓冲区复制到另一个缓冲区。</p>
<p>Copies a range of rows from one DataStore to another, or from one buffer to another within a single DataStore.</p>
<p><strong>Namespace:</strong> Appeon.Data.PowerBuilder</p>
<p><strong>Assembly:</strong> Appeon.Data.PowerBuilder.dll</p>
<h3 id="syntax"><strong>Syntax</strong></h3>
<pre><code class="lang-c#">  public bool RowsCopy(int startrow, int endrow, DwBuffer copybuffer, IDataStore targetdw, int beforerow, DwBuffer targetbuffer);
</code></pre>
<p><strong>Parameters</strong></p>
<p><code>startrow</code>	System.Int32</p>
<p>The zero-based number of the first row you want to copy.</p>
<p><code>endrow</code>	System.Int32</p>
<p>The zero-based number of the last row you want to copy.</p>
<p><code>copybuffer</code>	 <a href="../../DwBuffer/DwBuffer.html">Appeon.Data.PowerBuilder.DwBuffer</a></p>
<p>A value of the <code>DwBuffer</code> enumerated datatype identifying the DataStore buffer from which you want to copy rows.</p>
<p><code>targetdw</code>	 <a href="../../IDataStore/IDataStore.html">Appeon.Data.PowerBuilder.IDataStore</a></p>
<p>A reference to the DataStore to which you want to copy the rows. <code>targetDw</code> can be the current DataStore or another DataStore.</p>
<p><code>beforerow</code>	System.Int32</p>
<p>The zero-based number of the row before which you want to insert the copied rows. To insert after the last row, use any value that is greater than the number of existing rows.</p>
<p><code>targetbuffer</code>	 <a href="../../DwBuffer/DwBuffer.html">Appeon.Data.PowerBuilder.DwBuffer</a></p>
<p>A value of the <code>DwBuffer</code> enumerated datatype identifying the target DataStore buffer into which you want to copy rows.</p>
<p><strong>Returns</strong></p>
<p>System.Boolean</p>
<p>Returns true if it succeeds, and false if any row number is not correct.</p>
<h3 id="remarks"><strong>Remarks</strong></h3>
<p>When you use the <code>RowsCopy</code> method, the status of the rows that are copied to the primary buffer is <code>ModelState.NewModified</code>. If you issue an update request, DataStore sends SQL INSERT statements to the DBMS for the new rows.</p>
<p>When you use <code>RowsCopy</code>, data is not automatically retrieved for drop-down DataWindows in the target DataStore, as it is when you call <code>InsertRow</code>. You must explicitly call <code>Retrieve</code> for child DataWindows in the target.</p>
<p>When you use <code>RowsCopy</code> or <code>RowsMove</code> to populate another DataStore,  the copied data is not automatically processed by filters or sort criteria in effect on the target DataStore. You might be required to call the <code>Filter</code>, or <code>Sort</code> methods to properly process the data.</p>
<p>Uses for <code>RowsCopy</code> is: Making copies of one or more rows so that the users can create new rows based on the existing data.</p>
<h3 id="examples"><strong>Examples</strong></h3>
<p>演示RowsCopy方法, 将一个datastore的数据插入到另一个datastore中。</p>
<p>The following code example demonstrates how to use the RowsCopy method to copy rows from one DataStore to another.</p>
<pre><code class="lang-C#">using Appeon.Data.PowerBuilder;
using System;

namespace Appeon.ApiDoc.IDataStoreExamples
{
    public class RowsCopyExample
    {
        private SchoolContext _context;

        public RowsCopyExample(SchoolContext dataContext)
        {
            // Sets the data context
            _context = dataContext;
        }

        public void Example()
        {
            // Instantiates datastorefm with datawindow: d_department
            var datastorefm = new DataStore(&quot;d_department&quot;, _context);

            // Instantiates datastoreto with datawindow: d_department
            var datastoreto = new DataStore(&quot;d_department&quot;, _context);

            datastorefm.Retrieve();

            datastoreto.Retrieve();

            Console.WriteLine(&quot;Before RowsCopy, Rowcount: {0}&quot;, 
                               datastoreto.RowCount);

            // Calls RowsCopy to copy all rows from datastorefm to 
            // the beginning of the primary buffer of datastoreto;
            datastorefm.RowsCopy(0, datastorefm.RowCount, DwBuffer.Primary, 
                                 datastoreto, 0, DwBuffer.Primary);

            Console.WriteLine(&quot;After RowsCopy, Rowcount: {0}&quot;, 
                               datastoreto.RowCount);

            /*This code produces the following output:
            
            Before RowsCopy, Rowcount: 4
            After RowsCopy, Rowcount: 8           
            */

        }
    }
}
</code></pre>
<h4 id="example-refer-to">Example Refer To</h4>
<p>Model Class: <a href="../../../SourceCode/Examples/ExamplesClient.pbw/examplesclient.pbt/school.pbl/D_Department.html">D_Department</a> <br>DataWindow File: <a href="../../../SourceCode/Examples/ExamplesClient.pbw/examplesclient.pbt/school.pbl/d_department_srd.html">d_department</a> <br></p>
<h3 id="applies-to"><strong>Applies to</strong></h3>
<p>.NET Standard</p>
<p>2.x</p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>Appeon</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../../styles/main.js"></script>
  </body>
</html>
